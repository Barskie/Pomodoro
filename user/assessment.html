<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pivot</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel='stylesheet' href="../style.css">
    
</head>
<body>
    <div id="nav-placeholder">
    </div>

    <div class="container px-5 py-4 mx-auto">
        <div class="container d-flex justify-content-around ">
            <div class = "row">
            <span class = "titleRoutine text-center">
                ASSESSMENT
                <hr class="solid" id="hrWhite2">
            </span>
        </div>
        </div>
        <div class="container d-flex justify-content-around " id = "smolPageContainer">


            <div class="row">
            <div class = "card assessmentCard">
                <div class = "row text-center mt-3">
                    This can serve as an instrument to track the progress of your time management skills. The following questionnair will give you an idea of your current time management proficiency. Score the following questions using the following scale: 2 for "Always", 1 for "Sometimes", 0 for "Never".</p>
                    <hr class = "hrWhite2">
                    <div class = "assessmentContent">
                    <table class="table table-striped">
                        <thead>
                          <tr>
                            <th scope="col-2">#</th>
                            <td colspan="2">Questions</td>
                            <th scope="col-6">Always</th>
                            <th scope="col-2">Sometimes</th>
                            <th scope="col-2">Never</th>
                          </tr>
                        </thead>
                        <tbody>
                            <!-- QUESION -->
                          <tr>
                            <th scope="row">1</th>
                            <td colspan="2" class = "text-left">I do things in order of priority</td>
                            <td><input type="radio" id="always" onchange="addingScore(0,0)" name="q1" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(0,1)" name="q1" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(0,2)" name="q1" value="never"></td>
                          </tr>
                          <!-- END OF QUESTION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">2</th>
                            <td colspan="2" class = "text-left">I accomplish what needs to be done during the day</td>
                            <td><input type="radio" id="always" onchange="addingScore(1,0)" name="q2" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(1,1)" name="q2" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(1,2)" name="q2" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">3</th>
                            <td colspan="2" class = "text-left">I always get assignments done on time</td>
                            <td><input type="radio" id="always" onchange="addingScore(2,0)" name="q3" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(2,1)" name="q3" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(2,2)" name="q3" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                           <!-- QUESION -->
                           <tr>
                            <th scope="row">4</th>
                            <td colspan="2" class = "text-left">I feel I use my time effectively</td>
                            <td><input type="radio" id="always" onchange="addingScore(3,0)" name="q4" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(3,1)" name="q4" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(3,2)" name="q4" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">5</th>
                            <td colspan="2" class = "text-left">I tackle difficult or unpleasant tasks without procrastinating</td>
                            <td><input type="radio" id="always" onchange="addingScore(4,0)" name="q5" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(4,1)" name="q5" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(4,2)" name="q5" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">6</th>
                            <td colspan="2" class = "text-left">I force myself to make time for planning</td>
                            <td><input type="radio" id="always" onchange="addingScore(5,0)" name="q6" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(5,1)" name="q6" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(5,2)" name="q6" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">7</th>
                            <td colspan="2" class = "text-left">I spend enough time planning</td>
                            <td><input type="radio" id="always" onchange="addingScore(6,0)" name="q7" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(6,1)" name="q7" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(6,2)" name="q7" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">8</th>
                            <td colspan="2" class = "text-left">I prepare a daily or weekly "to do" list</td>
                            <td><input type="radio" id="always" onchange="addingScore(7,0)" name="q8" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(7,1)" name="q8" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(7,2)" name="q8" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">9</th>
                            <td colspan="2" class = "text-left">I prioritize my list in order of importance, not urgency</td>
                            <td><input type="radio" id="always" onchange="addingScore(8,0)" name="q9" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(8,1)" name="q9" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(8,2)" name="q9" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">10</th>
                            <td colspan="2" class = "text-left">I am able to meet the deadlines without rushing at the last minute. </td>
                            <td><input type="radio" id="always" onchange="addingScore(9,0)" name="q10" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(9,1)" name="q10" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(9,2)" name="q10" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">11</th>
                            <td colspan="2" class = "text-left">I keep up-to-date on my reading and homework assignments.</td>
                            <td><input type="radio" id="always" onchange="addingScore(10,0)" name="q11" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(10,1)" name="q11" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(10,2)" name="q11" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">12</th>
                            <td colspan="2" class = "text-left">I prevent interruptions from distracting me from high priority tasks. </td>
                            <td><input type="radio" id="always" onchange="addingScore(11,0)" name="q12" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(11,1)" name="q12" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(11,2)" name="q12" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">13</th>
                            <td colspan="2" class = "text-left">I avoid spending too much time on trivial matters. </td>
                            <td><input type="radio" id="always" onchange="addingScore(12,0)" name="q13" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(12,1)" name="q13" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(12,2)" name="q13" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">14</th>
                            <td colspan="2" class = "text-left">I spend enough time on academic matters. </td>
                            <td><input type="radio" id="always" onchange="addingScore(13,0)" name="q14" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(13,1)" name="q14" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(13,2)" name="q14" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">15</th>
                            <td colspan="2" class = "text-left">I plan time to relax and be with friends in my weekly schedule </td>
                            <td><input type="radio" id="always" onchange="addingScore(14,0)" name="q15" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(14,1)" name="q15" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(14,2)" name="q15" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">16</th>
                            <td colspan="2" class = "text-left">I have a weekly schedule on which I record fixed commitments such as classes and work hours. </td>
                            <td><input type="radio" id="always" onchange="addingScore(15,0)" name="q16" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(15,1)" name="q16" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(15,2)" name="q16" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">17</th>
                            <td colspan="2" class = "text-left">I try to do the most important tasks during my most energetic periods of the day. </td>
                            <td><input type="radio" id="always" onchange="addingScore(16,0)" name="q17" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(16,1)" name="q17" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(16,2)" name="q17" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">18</th>
                            <td colspan="2" class = "text-left">I make constructive use of my commuting time. </td>
                            <td><input type="radio" id="always" onchange="addingScore(17,0)" name="q18" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(17,1)" name="q18" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(17,2)" name="q18" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">19</th>
                            <td colspan="2" class = "text-left">I periodically re-assess my activities in relation to my goals. </td>
                            <td><input type="radio" id="always" onchange="addingScore(18,0)" name="q19" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(18,1)" name="q19" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(18,2)" name="q19" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">20</th>
                            <td colspan="2" class = "text-left">I have discounted any wasteful or unprofitable activies or routines. </td>
                            <td><input type="radio" id="always" onchange="addingScore(19,0)" name="q20" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(19,1)" name="q20" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(19,2)" name="q20" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">21</th>
                            <td colspan="2" class = "text-left">I screen and group my telephone calls to allow for control over telephone interruptions. </td>
                            <td><input type="radio" id="always" onchange="addingScore(20,0)" name="q21" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(20,1)" name="q21" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(20,2)" name="q21" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">22</th>
                            <td colspan="2" class = "text-left">I judge myself by accomplishments of tasks rather than by amount of activity or "busy-ness"</td>
                            <td><input type="radio" id="always" onchange="addingScore(21,0)" name="q22" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(21,1)" name="q22" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(21,2)" name="q22" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">23</th>
                            <td colspan="2" class = "text-left">My actions are determined primarily by me, not by circumstances or by other people's priorities. </td>
                            <td><input type="radio" id="always" onchange="addingScore(22,0)" name="q23" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(22,1)" name="q23" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(22,2)" name="q23" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">24</th>
                            <td colspan="2" class = "text-left">I have a clear idea of what I want to accomplish during the coming semester. </td>
                            <td><input type="radio" id="always" onchange="addingScore(23,0)" name="q24" value="always"></td>
                            <td><input type="radio" id="sometimes" onchange="addingScore(23,1)" name="q24" value="sometimes"></td>
                            <td><input type="radio" id="never" onchange="addingScore(23,2)" name="q24" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          <!-- QUESION -->
                          <tr>
                            <th scope="row">25</th>
                            <td colspan="2" class = "text-left" >I am satisfied with the way I use my time. </td>
                            <td><input type="radio" id="always" onchange="addingScore(24,0)" name="q25" value="always"></td>
                            <td><input type="radio" id="sometimes"  onchange="addingScore(24,1)" name="q25" value="sometimes"></td>
                            <td><input type="radio" id="never"  onchange="addingScore(24,2)" name="q25" value="never"></td>
                          </tr>
                          <!-- END OF QUESION -->
                          
                          
                        </tbody>
                      </table>
                    </div>
                </div>
                <div class = "row text-center mt-4">
                    <div class = "col">
                        <button type = "button" class = "btn" onclick="submitAssessment()" id = "assessmentSubmit">SUBMIT
                    </button>
            </div>
        </div>
    </div>



    <script src="//code.jquery.com/jquery-3.6.1.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="sweetalert2.all.min.js"></script>
    <link rel="stylesheet" href="sweetalert2.min.css">
    <script>
    $.get("../navigationBar.html", function(data){
        $("#nav-placeholder").replaceWith(data);
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
    <script>
        window.onload = function() {
    if(!window.location.hash) {
        window.location = window.location + '#loaded';
        window.location.reload();
    }
    window.onpageshow = function (event) {
        if (event.persisted) {
          window.location.href = 'reports.html';
        }
        };
    }
    if(!localStorage.getItem('user_id')){
        Swal.fire({
                title: 'LOGIN FIRST!', 
                confirmButtonColor: "#783937",
                text: "Before proceeding, log-in or create an account. ",
                icon: 'error',
                confirmButtonText: 'OK'
            }).then(function() {
                window.location = "http://localhost/pomodoro/user/login.html";
             });
            
        }
    
    
   

        var scoreArray = []
        for( let i = 0; i < 25; i++){

          scoreArray.push(null)

        }
      function addingScore(index,value){
        if(value == 2){
          value = 0
        }else if(value == 0){
          value = 2
        }
        scoreArray[index] = value;
        console.log(scoreArray)
      }
      function submitAssessment(){
        var total = 0
        var is_filled_all = true
        for( let i = 0; i < 25; i++){
            if(scoreArray[i] == null){
              is_filled_all = false
            }else{
              total = total + scoreArray[i]
            }
          }

          if(is_filled_all){
            var dtToday = new Date();
            var month = dtToday.getMonth() + 1;
            var day = dtToday.getDate();
            var year = dtToday.getFullYear();
            var hr = dtToday.getHours();
            var min = dtToday.getMinutes();
            if(month < 10)
                month = '0' + month.toString();
            if(day < 10)
                day = '0' + day.toString();

            var maxDate = year + '-' + month + '-' + day;
            var time = hr + ':' + min;

            var managementSkill= ''

            if(total >= 45 && total <= 50 ){
              managementSkill = 'You have excellent time mangament skills and should use this guide as a reference	 '
            }else if(total >= 30 && total <= 44){
              managementSkill = 'You manage your time fairly well but should use this guide to increase skill'
            }else{
              managementSkill = 'Your time management skill should be improved for college but not panic, following the subsquent guidelines will assist you in improving your ability and further your chances of success'
                                }


            // alert('Submit Completed')
            Swal.fire({
                        title: 'TOTAL: '+total, 
                        confirmButtonColor: "#783937",
                        text: managementSkill,
                        icon: 'success',
                        confirmButtonText: 'OK'
                    }).then(function() {
                        $.ajax({
                        type:"POST",
                        url: "http://localhost/pomodoro/api/add_assessment.php",
                        dataType: "json",
                        data:{
                            user_id: localStorage.getItem('user_id'),
                            points: total,
                            time: time,
                            date: maxDate
                        },
                        
                        cache:false,
                        success: function(dataResult){
                          localStorage.removeItem('is_assessment')
                          localStorage.removeItem("assessTime");
                                  window.location.href = 'reports.html';
                                },error:function(err){
                            console.log('error')		 
                            }
                        })
                        
                      });
                      }else{
                        
                  Swal.fire({
                    title: 'INCOMPLETE',
                    text: 'Please answer all of the questions',
			              confirmButtonColor: "#783937",
                    icon: 'error',
                    confirmButtonText: 'OK'
                })

                      }
                  }
    </script>
   


</body>
</html>